---
layout: photo
title: 测试-python面向对象
tags:
  - 测试
date: 2022-03-01 10:02:16
categories: 测试
photos:
---
学习一下python面向对象相关知识。
<!--more-->
### Python中的可变对象和不可变对象
  不可变对象，该对象所指向的内存中的值不能被改变。当改变某个变量时候，由于其所指的值不能被改变，相当于把原来的值复制一份后再改变，这会开辟一个新的地址，变量再指向这个新的地址。
  可变对象，该对象所指向的内存中的值可以被改变。变量(准确的说是引用)改变后，实际上是其所指的值直接发生改变，并没有发生复制行为，也没有开辟新的出地址，通俗点说就是原地改变。
  Python中，数值类型(int和float)、字符串str、元组tuple都是不可变类型。而列表list、字典dict、集合set是可变类型。

### Python中 is 和 == 的区别
is 判断的是 a 对象是否就是 b 对象，是通过 id 来判断的。
==判断的是 a 对象的值是否和 b 对象的值相等，是通过 value 来判断的。 

### Python的魔法方法
魔法方法就是可以给你的类增加魔力的特殊方法，如果你的对象实现 (重载)了这些方法中的某一个，那么这个方法就会在特殊的情况下被 Python 所调用，你可以定义自己想要的行为，而这一切都是自动发生的。 它们经常是两个下划线包围来命名的(比如 __init__，__lt__)，Python 的魔法方法是非常强大的，所以了解其使用方 法也变得尤为重要!__init__ 构造器，当一个实例被创建的时候初始化的方法。但是它并 不是实例化调用的第一 个方法。
__new__才是实例化对象调用的第一个方法，它只取下cls参数，并把其他参数传给 __init__。 
__new__很 少使用，但是也有它适合的场景，尤其是当类继承自一个像元组或者字符串这样不经常改变的类型的时候。
__call__ 允许一个类的实例像函数一样被调用 。
__getitem__ 定义获取容器中指定元素的行为，相当于 self[key] 。 __getattr__ 定义当用户试图访问一个不存在属性的时候的行为 。 __setattr__ 定义当一个属性被设置的时候的行为 。
__getattribute__ 定义当一个属性被访问的时候的行为 。

### 面向对象中实现只读属性
1、将对象私有化，通过共有方法提供一个读取数据的接口。 

```
class person:
	def __init__(self,x): 
		self.__age = 10;
	def age(self):
		return self.__age;
t = person(22)
# t.__age = 100 
print(t.age()) 
```
2、最好的方法 
```
class MyCls(object):
	__weight = 50
	@property #以访问属性的方式来访问 weight 方法 
	def weight(self):
		return self.__weight

if __name__ == '__main__':
	obj = MyCls() 
# 报错信息
print(obj.weight) obj.weight = 12
Traceback (most recent call last):
50
File "C:/PythonTest/test.py", line 11, in <module> 
obj.weight = 12
AttributeError: can't set attribute
```

### 面向对象
  面向对象是相对于面向过程而言的。面向过程语言是一种基于功能分析的、以算法为中心的程序设计方法;而面向对象是一种基于结构分析的、以数据为中心的程序设计思想。在面向对象语言中有一个有很重要东西，叫做类。
  面向对象有三大特性:封装、继承、多态。

