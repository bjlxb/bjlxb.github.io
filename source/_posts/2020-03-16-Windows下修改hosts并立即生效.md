---
layout: photo
title: Windows下修改hosts并立即生效
tags:
  - Tool
date: 2020-03-16 09:51:08
categories: Tool
photos:
---
因为中国特殊的网络环境，有时需要特殊方法来访问国外的网站，记录一下修改方式，并不需要重启可以直接生效的方案！
<!--more-->

#### 一、进入hosts文件所在目录

  Win+R->C:\windows\System32\drivers\etc

#### 二、编辑hosts文件

  使用Notepad++或者记事本以管理员身份打开hosts

#### 三、hosts文件说明

  按照hosts文件所带例子进行修改。
  例：
  127.0.0.1 abc.com
  前面表示IP，后面表示域名。
  打开abc .com这个网址将解析到127.0.0.1，ip地址与网址间至少有一空格，当然建议通过按[Tab]键来编辑，即美观又不容易编写失误。

#### 四、hosts具体作用

###### 1、加快域名解析

　　对于要经常访问的网站，我们可以通过在Hosts中配置域名和IP的映射关系，提高域名解析速度。由于有了映射关系，当我们输入域名计算机就能很快解析出IP，而不用请求网络上的DNS服务器。

###### 2、方便局域网用户

　　在很多单位的局域网中，会有服务器提供给用户使用。但由于局域网中一般很少架设DNS服务器，访问这些服务器时，要输入难记的IP地址。这对不少人来说相当麻烦。可以分别给这些服务器取个容易记住的名字，然后在Hosts中建立IP映射，这样以后访问的时候，只要输入这个服务器的名字就行了。

###### 3、屏蔽网站（域名重定向）

　　有很多网站不经过用户同意就将各种各样的插件安装到你的计算机中，其中有些说不定就是木马或病毒。对于这些网站我们可以利用Hosts把该网站的域名映射到错误的IP或本地计算机的IP，这样就不用访问了。在WINDOWS系统中，约定 127.0.0.1 为本地计算机的IP地址, 0.0.0.0是错误的IP地址。
　　如果，我们在Hosts中，写入以下内容：
　　127.0.0.1要屏蔽的网站A的域名
　　0.0.0.0要屏蔽的网站B的域名
　　这样，计算机解析域名A和 B时，就解析到本机IP或错误的IP，达到了屏蔽网站A 和B的目的。

###### 4、顺利连接系统

　　对于Lotus的服务器和一些数据库服务器，在访问时如果直接输入IP地址那是不能访问的，只能输入服务器名才能访问。那么我们配置好Hosts文件，这样输入服务器名就能顺利连接了。

###### 5.虚拟域名

　　很多时候，网站建设者需要把”软环境“搭建好，再进行上传调试。但类似于邮件服务，则需要使用域名来辅助调试，这时就可以将本地 IP 地址与一个”虚拟域名“做地址指向，就可以达到要求的效果，且无需花费。如：
　　127.0.0.1 网站域名
　　之后在浏览器地址栏中输入对应的网站域名即可。

#### 五、不重启修改hosts生效

```
# 在cmd中输入如下命令
ipconfig /flushdns
```

[参考链接](https://baike.baidu.com/item/hosts/10474546?fr=aladdin)