---
layout: photo
title: JS截取或分割字符串
tags:
  - JavaScript
date: 2019-03-26 22:24:13
categories: JavaScript
photos:
---
项目中遇到后台返回数据过长，需要进行截取或分割
<!--more-->
## 截取字符串
- 函数：substring()
substring(start,end)表示截取从start到end之间的字符串，包括start位置的字符但是不包括end位置的字符。数字从零开始。
```javaScript
var n="abcd12356789";
console.log(n.substring(7,10));
//输出值为：567
```
- 函数：substr()
substr(start,length)表示从start位置开始，截取length长度的字符串。
```javaScript
var n="abcd12356789";
console.log(n.substr(7,3));
//输出值为：567
```
## 分割字符串
- 函数：split()
使用一个指定的分隔符把一个字符串分割存储到数组
```javaScript
str="0,1,2,3,5,6,7,8,9";
arr=theString.split(",");
//arr是一个包含字符值"0"、"1"、"2"、"3"、"5"、"6"、"7"、"8"和"9"的数组
//按照空格分割
str.split(' ')
str.split(/\s+/)
```
## 合并为字符串
- 函数：John()
使用您选择的分隔符将一个数组合并为一个字符串
```javaScript
var myArray=new Array("0","1","2","3","5","6","7","8","9");
var portableList=myArray.join("|");
//结果是0|1|2|3|5|6|7|8|9
```
## 查找字符串内元素的下标
- 函数：indexOf()
返回字符串中匹配子串的第一个字符的下标，不存在返回-1。
```javaScript
var str="JavaScript";
var str1=str.indexOf("v");
//结果是2
var str2=str.indexOf("S");
//结果是4
var str3=str.indexOf("Script");
//结果是4
var str4=str.indexOf("key");
//结果是-1
```
- 函数：lastIndexOf()
lastIndexOf()方法返回从右向左出现某个字符或字符串的首个字符索引值（与indexOf相反）
返回字符串索引值，从左向右数，不存在返回-1。
```javaScript
var str="JavaScript";
console.log(str.lastIndexOf('a'));
//输出是3
console.log(str.lastIndexOf('p'));
//输出是8
```
#### 补充：substr 和 substring方法的区别
###### substr 方法
返回一个从指定位置开始的指定长度的子字符串。
stringvar.substr(start [, length ])
参数
- stringvar
必选项。要提取子字符串的字符串文字或 String 对象。
- start
必选项。所需的子字符串的起始位置。字符串中的第一个字符的索引为 0。
- length
可选项。在返回的子字符串中应包括的字符个数。
- 说明
如果 length 为 0 或负数，将返回一个空字符串。如果没有指定该参数，则子字符串将延续到 stringvar 的最后。

下面的示例演示了substr 方法的用法。
```javaScript
function SubstrDemo(){
  var s, ss;        // 声明变量。
  var s = "The rain in Spain falls mainly in the plain.";
  ss = s.substr(12, 5); // 获取子字符串。
  return(ss);        // 返回 "Spain"。
}

```
--------
###### substring 方法
返回位于 String 对象中指定位置的子字符串。
strVariable.substring(start, end)
"String Literal".substring(start, end)
参数
- start
指明子字符串的起始位置，该索引从 0 开始起算。
- end
指明子字符串的结束位置，该索引从 0 开始起算。
- 说明
substring 方法将返回一个包含从 start 到最后（不包含 end ）的子字符串的字符串。
substring 方法使用 start 和 end 两者中的较小值作为子字符串的起始点。例如， strvar.substring(0, 3) 和 strvar.substring(3, 0) 将返回相同的子字符串。
如果 start 或 end 为 NaN 或者负数，那么将其替换为0。
子字符串的长度等于 start 和 end 之差的绝对值。例如，在 strvar.substring(0, 3) 和 strvar.substring(3, 0) 返回的子字符串的的长度是 3。

下面的示例演示了 substring 方法的用法。
```javaScript
function SubstringDemo(){
  var ss; // 声明变量。
  var s = "The rain in Spain falls mainly in the plain..";
  ss = s.substring(12, 17); // 取子字符串。
  return(ss); // 返回子字符串。
}
```
---
[参考链接](https://www.cnblogs.com/lvlina/p/6008728.html)

