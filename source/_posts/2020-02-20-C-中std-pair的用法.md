---
layout: photo
title: 'C++中std::pair的用法'
tags:
  - C/C++
date: 2020-02-20 23:26:35
categories: C/C++
photos:
---
pair用法是C++中常用的对象，本文主要讲解C++中pair的相关用法！
<!--more-->

#### 1. pairy应用

  1.1 pair是将2个数据组合成一个数据，当需要这样的需求时就可以使用pair，如stl中的map就是将key和value放在一起来保存。
  1.2 当一个函数需要返回2个数据的时候，可以选择pair。 
  1.3 pair的实现是一个结构体，主要的两个成员变量是first second 因为是使用struct不是class，所以可以直接使用pair的成员变量。

#### 2. make_pair函数
  2.1 template pair make_pair(T1 a, T2 b) { return pair(a, b); }
   可以使用make_pair来生成我们需要的pair
   需要pair做参数时可以使用make_pair，直接调用make_pair生成pair对象，代码清晰明了。
   另外pair可以接受隐式的类型转换，这样可以获得更高的灵活度。
   但会带来了一些问题：
```c++
  std::pair<int, float>(1, 1.1);  // 1.1为float类型
  std::make_pair(1, 1.1);  // 1.1为double类型，会自动匹配成double类型
```
  2.2 类模板：template <class T1, class T2> struct pair
  参数：
   T1是第一个值的数据类型
   T2是第二个值的数据类型。
  功能：
   pair将一对值组合成一个值，这一对值可以具有不同的数据类型（T1和T2）。
   两个值可以分别用pair的两个公有函数first和second访问。
#### 3. 具体用例
  3.1 定义（构造）
```c++
// 默认构造函数
pair<int, double> p1;
// 给定值初始化
pair<int, double> p2(1, 2.4);
// 拷贝构造函数
pair<int, double> p3(p2);  
```
  3.2 访问两个元素（first和second）
```c++
// 默认构造函数
pair<int, double> p1;  
p1.first = 520;
p1.second = 13.14;
cout << p1.first << ' ' << p1.second << endl;

// 输出：
// 520 13.14
```
  3.3 赋值operator = 
   3.3.1 make_pair
```c++
pair<int, double> p1;
p1 = make_pair(520, 13.14);
```
   3.3.2 变量间赋值
```c++
pair<int, double> p1(1, 1.2);
pair<int, double> p2 = p1;
```