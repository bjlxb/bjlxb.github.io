---
layout: photo
title: Charles手机抓包教程二
tags:
  - 测试
date: 2020-05-01 23:53:54
categories: 测试
photos:
---
很多时候因为链接是https的，导致抓包内容是加密的无法获取，记录一下怎么抓取https。
<!--more-->
#### 1. 手机连接到Charles
[Charles手机抓包教程](https://bjlxb.github.io/2020/04/24/Charles%E6%89%8B%E6%9C%BA%E6%8A%93%E5%8C%85%E6%95%99%E7%A8%8B/)

#### 2. 安装证书
1. 电脑端安装证书
<img src="/image/Charles/Charles-6.png">

2. 手机端安装证书
<img src="/image/Charles/Charles-7.png">
<img src="/image/Charles/Charles-8.png">

- 安卓系统：
  1. 按照提示，首先连接到Charles

  2. 在浏览器输入网址：chls.pro/ssl

  3. 下载证书

  4. 安装证书

  5. 理论上安装完成后可以直接使用。

- 苹果系统：

  1. 按照提示，首先连接到Charles

  2. 在Safari中输入网址：chls.pro/ssl

  3. 会弹出下载配置描述文件，问是否允许，选择允许。
      <img src="/image/Charles/Charles-9.jpeg">
      
  4. 设置-通用-描述文件-配置描述文件-Charles ProxyCA-安装（需输入开屏密码）-会出现警告，忽略继续点击安装，
      <img src="/image/Charles/Charles-10.jpeg">
      <img src="/image/Charles/Charles-11.jpeg">

  5. 打开设置--》通用--》描述文件，可以看到刚刚安装的描述文件

  6. 信任新安装的证书

      设置-通用-关于本机-证书信任设置-Charles...证书开启信任

      <img src="/image/Charles/Charles-20.jpeg">

      <img src="/image/Charles/Charles-21.jpeg">

      <img src="/image/Charles/Charles-22.jpeg">

  7. 打开一个HTTPS的网站，看是否可以抓包成功。

