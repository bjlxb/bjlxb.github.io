---
layout: photo
title: Anaconda虚拟环境
tags:
  - Tool
date: 2020-02-14 23:13:26
categories: Tool
photos:
---
Anaconda虚拟环境是python中很推荐的虚拟环境，它内置了很多算法计算相关的包，可以无需下载直接使用，方便快捷。
<!--more-->
#### 1. 查看已有环境
```python
conda env list
conda info -e
```
#### 2. 创建环境
```python
conda create -n env_name python=version 
# 同时安装必要的包
conda create -n env_name '包1' '包2' '...' python=version
```
注：
  1. 参数-n是指参数指定虚拟环境名，与--name等效
  2. env_name为虚拟环境名字
  3. python=version是为虚拟环境指定Python版本
  4. 若指定版本为3.6时，conda将会安装最新的3.6.x版本
例：创建一个虚拟环境，Python版本为3.6，虚拟环境名为python3.6
```python
conda create --name python3.6 python=3.6
conda create -n python3.6 python=3.6
```
#### 3. 激活虚拟环境

```python
Linux:  source activate env_name
Windows: activate env_name
```
例：激活上面创建的虚拟环境python3.6
```python
Linux:  source activate python3.6
Windows: activate python3.6
```
#### 4. 退出虚拟环境
```python
Linux: source deactivate env_name
Windows: deactivate env_name 
# 也可以使用`activate root`切回root环境
```
#### 5. 删除虚拟环境
```python
conda remove -n env_name --all
```
#### 6. 虚拟环境包管理
  ##### 6.1 安装包
  ```python
  conda install package_name
  # 或
  pip install package_name
  ```
  ##### 6.2 查看包列表
  ```python
  conda list
  ```
  ##### 6.3 更新包
  ```python
  conda update package_name
  ```
  ##### 6.4 查找包
  ```python
  conda search keyword
  ```
  例：你需要安装pandas，忘记名字，可以这样查找
  ```python
  conda search pan
  ```
  ##### 6.5 删除包
  ```python
  conda remove package_name
  ```
#### 7. 导出虚拟环境
    在多人协作开发或电脑切换过程中，为了让他人了解项目需要依赖，需要将环境信息进行分享，conda提供了方便得功能将虚拟环境中所有依赖包统一导出一个配置文件中，在新的机器上，只需要让conda根绝导出的配置文件重建虚拟环境。
  ##### 7.1 导出配置文件
```python
conda env export --file python3.6_env.yml
```
  environment.yaml是导出依赖的目标文件，运行命令后，当前目录下就回生成一个environment.yaml文件，包含了所有依赖信息。
  ##### 7.2 创建虚拟环境
```python
conda env create -f /home/chb/code/python3.6_env.yml
```
