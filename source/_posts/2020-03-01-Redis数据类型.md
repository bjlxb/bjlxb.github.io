---
layout: photo
title: Redis数据类型
tags:
  - DB
date: 2020-03-01 23:03:14
categories: DB
photos:
---
主要介绍Redis数据类型。
<!--more-->
#### redis中key的几条规则：
 1. redis中key值最好不要太长，key太长不仅消耗内存，而且查找键值的计算成本高。
 2. redis中key太短也不太好，几个字母并不会增加太多空间消耗，太短的键值不太易于阅读。
 3. 最好有统一的格式，方便查找和使用。

#### redis中value的数据类型：
 1. 二进制安全的字符串。
 2. Lists: 有序且可重复的字符串元素集合，类似链表（linked lists）。
 3. Sets: 不重复且无序的字符串元素集合。
 4. Sorted sets,与Sets类似，但是每个字符串元素都关联到一个叫score浮动数值（floating number value），元素通过score进行着排序，它是可以检索的一系列元素。
 5. Hashes,由field和value组成的map。field和value都是字符串的。类似Ruby、Python中的hashes。
 6. Bit arrays (或者说 simply bitmaps): 通过特殊的命令，你可以将 String 值当作一系列 bits 处理。可以设置和清除单独的 bits，数出所有设为 1 的 bits 的数量，找到最前的被设为 1 或 0 的 bit。
 7. HyperLogLogs: 这是被用于估计一个 set 中元素数量的概率性的数据结构。

#### String 类型
 值可以是任何种类的字符串（包括二进制数据），值的长度不能超过512 MB。
 例如你可以在一个键下保存一副jpeg图片。
 - 赋值 set key value
```redis
127.0.0.1:6379> set myname jack
OK
```
 - 取值 get key
```redis
127.0.0.1:6379> get myname
"jack"
```
 - 取值并赋值 getset key value
```redis
127.0.0.1:6379> getset myname jacker
"jack"
127.0.0.1:6379> get myname
"jacker"
```
 - 设置获取多个键值 mset key value [key value...] mget key [key...]
```redis
127.0.0.1:6379> mset key1 value1 key2 value2 key3 value3
OK
127.0.0.1:6379> mget key1 key2
1) "value1"
2) "value2"
```
 - 查询 exists key
  EXISTS命令返回1或0标识给定key的值存在或不存在。
```redis
127.0.0.1:6379> exists myname
(integer) 1
```
 - 删除 del key
  DEL命令返回1或0标识值是被删除(值存在)或没被删除(key对应的值不存在)。
```redis
127.0.0.1:6379> del myname
(integer) 1
```
 - 查询值的存储类型 type key
  TYPE命令可以返回key对应的值的存储类型。
```redis
127.0.0.1:6379> type myname
string
```