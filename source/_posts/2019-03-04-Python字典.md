---
layout: photo
title: Python字典
date: 2019-03-04 19:27:59
tags:
  - Python
categories: Python
photos:
---
字典是Python中常见的数据类型，是一个可变数据类型，且可以存储任意类型对象。
<!--more-->
## 1.什么是字典 ##

字典是由键值对组成，是Python中唯一的映射类型。

字典是可变的，字典也被称为关联数组或哈希表。

字典中每个键值(key=>value)对用冒号(:)进行分割，每个键值对之间用逗号(,)分割，用花括号包裹起来。

字典的格式：
{% codeblock lang:python %}
dict={key1:value1, key2:value2}
{% endcodeblock %}


字典中键是必须唯一，值可以重复。

字典中键必须是不可变类型（字符串，数字或元组），值可以为任意类型。

## 2.字典的基本操作 ##
##### 1.根据键取值： #####
dict['key'] 若不存在会报错,KeyError

dict.get('key') 若不存在,返回None

dict.get('key','not exist')

##### 2.判断key或value是否存在： #####
has_key()：有返回True，没有返回False

in 有返回True，没有返回False 、not in 有返回False，没有返回True

dict.keys() 以列表形式返回一个字典所有的键

dict.values() 以列表形式返回字典中的所有值

dict.items() 以列表形式返回可遍历的(键, 值) 元组数组
##### 3.修改字典 #####
dict['key'] = value  key值不存在即新增，key值存在即修改

dict.setdefault('key',value)   只能新增

##### 4.删除字典 #####
del dict['key'] 删除键key的项

del dict 删除整个字典

dict.popitem()  随机删除字典中的一对键和值并将该键值对返回

dict.pop(key[,default]) 删除字典给定键 key 所对应的值，返回值为被删除的值。key值必须给出。 否则，返回default值。

dict.clear()  清空字典,字典存在，只清空了所有元素

##### 5.字典其他内置函数或方法 #####
###### 内置函数： ######
cmp(dict1, dict2) 比较两个字典元素

len(dict) 计算字典元素个数，即键的总数

str(dict) 输出字典的字符串格式

type(variable) 返回输入的变量类型
###### 内置方法： ######
dict.copy() 返回一个字典的浅复制

dict.fromkeys(seq, val=None) 创建并返回一个新字典，以seq中的元素做该字典的键，val做该字典中所有键对应的初始值（默认为None）

dict.update(dict2) 把字典dict2的键/值对更新到dict里

### Python 中两个字典（dict）合并 ###
###### 方法一： ######
{% codeblock lang:python %}
	merge_dict = dict( dict1, **dict2 )
	
    注：如果当key不是字符串的时候，python3中会运行失败
    	TypeError: keyword arguments must be strings
{% endcodeblock %}
	

###### 方法二： ######
{% codeblock lang:python %}
	merge_dict = dict(dict1.items() + dict2.items())

	注：
	在python3中会出现错误
	TypeError: unsupported operand type(s) for +: 'dict_items' and 'dict_items'
	解决方案：
	dict3 = dict(list(dict1.items()) + list(dict2.items()))

{% endcodeblock %}
	
###### 方法三： ######
{% codeblock lang:python %}
	merge_dict = dict1.copy()
	merge_dict.update( dict2 )
{% endcodeblock %}
	

###### 方法四： ######
{% codeblock lang:python %}
	merge_dict = dict( dict1 )
	merge_dict.update( dict2 )
{% endcodeblock %}
	

###### 方法五： ######
{% codeblock lang:python %}
	for k, v in dict1.items():
		dict3[k] = v

	for k, v in dict2.items():
		dict3[k] = v
{% endcodeblock %}
	






