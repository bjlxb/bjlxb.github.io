---
layout: photo
title: Linux中防火墙端口白名单
tags:
  - Tool
date: 2020-10-14 16:30:53
categories: Tool
photos:
---
服务器一般会开启防火墙，当服务器启动了某些特定端口，需要外部访问时需要将端口加入到白名单中。
<!--more-->
###### CentOS防火墙
```bash
# 设置开机启用防火墙
systemctl enable firewalld.service
# 设置开机禁用防火墙
systemctl disable firewalld.service
# 启动防火墙
systemctl start firewalld
# 关闭防火墙
systemctl stop firewalld
# 检查防火墙状态
systemctl status firewalld 

# 查看防火墙状态
firewall-cmd --state
# 查看开放的端口
firewall-cmd --list-ports
# 查询所有
firewall-cmd --list-all
# 添加白名单
firewall-cmd --add-port=端口号/tcp --zone=public --permanent
# 命令含义：
  # –zone #作用域
  # –add-port=9200/tcp  #添加端口，格式为：端口/通讯协议
  # –permanent #永久生效，没有此参数重启后失效
  # 注意：添加端口后，必须用命令firewall-cmd --reload重新加载一遍才会生效
# 重新加载配置
firewall-cmd --reload
# 关闭防火墙端口
firewall-cmd --zone=public --remove-port=9200/tcp --permanent
```
###### Ubuntu防火墙
```bash
# 1.查看防火墙当前状态
sudo ufw status

# 2.开启防火墙
sudo ufw enable

# 3.关闭防火墙
sudo ufw disable

# 4.查看防火墙版本
sudo ufw version

# 5.默认允许外部访问本机
sudo ufw default allow

# 6.默认拒绝外部访问主机
sudo ufw default deny

# 7.允许外部访问53端口
sudo ufw allow 53

# 8.拒绝外部访问53端口
sudo ufw deny 53

# 9.允许某个IP地址访问本机所有端口
sudo ufw allow from 192.168.0.1

```

